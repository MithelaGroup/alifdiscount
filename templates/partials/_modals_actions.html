{# Approve modal #}
<div class="modal" id="approve-{{ r.id }}" hidden>
  <div class="modal-body">
    <h3>Approve request {{ r.request_code }}</h3>
    <form method="post" action="/requests/{{ r.id }}/approve">
      <label class="label">Select discount group</label>
      <select name="group_id" required>
        {% for g in groups %}
          <option value="{{ g.id }}">{{ g.name }} ({{ g.percent }}%)</option>
        {% endfor %}
      </select>
      <div class="modal-actions">
        <button type="button" class="btn outline" onclick="closeModal('approve-{{ r.id }}')">Cancel</button>
        <button class="btn ok" type="submit">Confirm</button>
      </div>
    </form>
  </div>
</div>

{# Reject modal #}
<div class="modal" id="reject-{{ r.id }}" hidden>
  <div class="modal-body">
    <h3>Reject request {{ r.request_code }}</h3>
    <form method="post" action="/requests/{{ r.id }}/reject">
      <label class="label">Reason (optional)</label>
      <textarea name="reason" rows="3" placeholder="Reasonâ€¦"></textarea>
      <div class="modal-actions">
        <button type="button" class="btn outline" onclick="closeModal('reject-{{ r.id }}')">Cancel</button>
        <button class="btn danger" type="submit">Reject</button>
      </div>
    </form>
  </div>
</div>

{# Finalize modal #}
<div class="modal" id="finalize-{{ r.id }}" hidden>
  <div class="modal-body">
    <h3>Finalize request {{ r.request_code }}</h3>
    <form method="post" action="/requests/{{ r.id }}/done">
      <label class="label">Invoice number</label>
      <input name="invoice_number" required />
      <label class="label">Discount amount (BDT)</label>
      <input name="discount_amount" type="number" min="0" step="1" required />
      <div class="modal-actions">
        <button type="button" class="btn outline" onclick="closeModal('finalize-{{ r.id }}')">Cancel</button>
        <button class="btn info" type="submit">Finalize</button>
      </div>
    </form>
  </div>
</div>
